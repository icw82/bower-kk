'use strict';(()=>{const a={v:'0.21.0',w:null,d:null};if(a.msg={cb:'\u041E\u0431\u0440\u0430\u0442\u043D\u044B\u0439 \u0432\u044B\u0437\u043E\u0432 \u043D\u0435 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0451\u043D \u0438\u043B\u0438 \u043D\u0435 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0444\u0443\u043D\u043A\u0446\u0438\u0435\u0439',ae:'\u0423\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442'},a.err={},Object.keys(a.msg).forEach((b)=>{a.err[b]=Error(a.msg[b])}),a.__d=()=>console.warn('Depricated'),('function'==typeof Window||Window instanceof Function)&&window instanceof Window)a.w=window,a.global=a.r=a.w;else throw console.warn(Window,Window instanceof Function,Function),console.warn(window,window instanceof Window,Window),Error(`Неизвестно что`);Object.defineProperty(a,'d',{get:()=>a.r.document}),a.ts=()=>Date.now(),a.r.kk=a.r.kenzo=a})(),((a)=>{a.is=(()=>{const b={u:'undefined',b:'boolean',n:'number',s:'string',o:'object',f:'function',c:'function'};return Object.keys(b).forEach((a)=>{const c=b[a];b[a]=(...a)=>!(0<a.filter((a)=>typeof a!==c).length)}),b.addTest=(c,d)=>{if(b.hasOwnProperty(c))throw new a.err.ae;if(!b.c(d))throw new TypeError;b[c]=(...a)=>!(0<a.filter((a)=>!(a instanceof d)).length)},[['A',Array],['AB',ArrayBuffer],['D',Date],['E',Element],['N',Node],['NL',NodeList],['C',HTMLCollection],['S',Set]].forEach((a)=>{b.addTest(...a)}),b})()})(kk),((a)=>{a.each=function(){var b=arguments,c=[],d=b[0],e=b[1];if(!a.is.f(e))throw a.err.cb;var f,g,h=!!a.is.f(b[2])&&b[2],i=b[b.length-1],j=!!a.is.b(i)&&i,k=!1;if(!a.is.u(d)){if(a.is.s(d)&&a.d?c=a.d.querySelectorAll(d):a.is.n(d)?(c=Array(Math.floor(Math.max(0,d))),k=!0):ArrayBuffer.isView(d)&&0<d.length?c=Array.prototype.slice.call(d):(a.is.A(d)||a.is.NL(d)||a.is.C(d))&&(c=d),0<c.length)if(j){for(f=c.length-1;0<=f;f--)if(g=e(k?f:c[f],f,c),!a.is.u(g))return g;}else for(f=0;f<c.length;f++)if(g=e(k?f:c[f],f,c),!a.is.u(g))return g;return h?h():void 0}},void 0===a.r.each&&(a.r.each=a.each)})(kk),((a)=>{var b=Math.floor;a.rand=(c,d)=>{var e=Math.pow;let f,g;if(a.is.A(c))return c[a.rand(0,c.length-1)];if(!a.is.n(c))return!Math.round(Math.random());if(!a.is.n(d)){var h=b(Math.abs(c));if(16<=h)throw new Error(`Нельзя задать число более чем в 16 знаков`);return 0===h?0:(f=1===h?0:e(10,h-1),a.rand(f,e(10,h)-1))}return f=c,g=d+1,b(Math.random()*(g-f))+f}})(kk),((a)=>{a.class=function(b,c,d){if(!a.is.E(b))throw new TypeError;if(a.is.s(c)&&(c=[c]),!a.is.A(c))throw new TypeError;a.is.A(d)||(d=[]),d.forEach(function(b){if(!a.is.s(b))throw new TypeError}),c.forEach(function(b){if(!a.is.s(b))throw new TypeError}),d.forEach(function(a){0>c.indexOf(a)&&b.classList.remove(a)}),c.forEach(function(a){b.classList.add(a)})}})(kk),((a)=>{a.class_forever=function(a,b){b.classList.add(a);var c=new MutationObserver(function(c){c.forEach(function(c){'class'!==c.attributeName||c.target!==b||b.classList.contains(a)||b.classList.add(a)})});c.observe(b,{attributes:!0})}})(kk),((a)=>{a.Event=class{constructor(){this.listeners=[],this.queue=[],this.state={last:void 0,processed:!1,completed:!1}}hasListener(a){return this.listeners.find((b)=>b===a)}addListener(a){if(`function`!=typeof a)throw TypeError();this.hasListener(a)||(this.state.completed?a(...this.state.last):this.listeners.push(a),this.state.processed&&this.queue.push(a))}removeListener(a){`function`!=typeof a||(this.listeners=this.listeners.filter((b)=>b!==a))}dispatch(...a){if(!this.state.completed){for(this.state.processed=!0,this.state.last=a,this.listeners.forEach((b)=>{b(...a)});0<this.queue.length;){const b=this.queue.shift();b(...a)}this.state.processed=!1}}complete(){this.state.completed||(this.dispatch.apply(this,arguments),this.state.completed=!0)}}})(kk),((a)=>{function b(a,b,d){return'#'===b[0]?c(a,b.substring(1),d,!0):'.'===b[0]?c(a,b.substring(1),d,!1):c(a,b,d,!1)}function c(b,d,e,f){if(!(!1!==e&&0>--e)&&a.is.E(b)&&'parentNode'in b&&a.is.E(b.parentNode)){var g=b.parentNode;if(f){if(g.getAttribute('id')===d)return g;}else if(g.classList.contains(d))return g;return c(g,d,e,f)}}a.find_ancestor=function(c,d,e){if(a.is.n(e)||(e=!1),a.is.s(d)&&(d=[d]),a.is.A(d))return a.each(d,function(d){if(a.is.s(d))return b(c,d,e)})}})(kk),((a)=>{var b=Math.abs;a.format={};const c=(b)=>{if(!a.is.s(b))throw new TypeError('Expected a string');let c=b;return c=c.replace(/([\s-–—_]+)/g,`-`),c=c.replace(/([a-z])([A-Z])/g,`$1-$2`),c=c.toLowerCase(),c.split('-')};a.format.camelize=(a,b)=>c(a).map((a,c)=>{let d=a.charAt(0);return 0===c&&b||(d=d.toUpperCase()),d+a.substr(1)}).join(''),a.format.capitalize=(a)=>a.charAt(0).toUpperCase()+a.substr(1),a.format.date_range_to_string=(b,c)=>{if(a.is.s(b)&&(b=new Date(b)),a.is.s(c)&&(c=new Date(c)),a.is.D(b)&&a.is.D(c))return`с ${a.date_to_string(b)} по ${a.date_to_string(c)}`;throw new Error(a.msg.ia)},a.format.date_to_string=(b)=>{let c=[],d=new Date;if(a.is.s(b)&&(b=new Date(b)),!a.is.D(b))return b;let e=b.getDate(),f=['\u044F\u043D\u0432\u0430\u0440\u044F','\u0444\u0435\u0432\u0440\u0430\u043B\u044F','\u043C\u0430\u0440\u0442\u0430','\u0430\u043F\u0440\u0435\u043B\u044F','\u043C\u0430\u044F','\u0438\u044E\u043D\u044F','\u0438\u044E\u043B\u044F','\u0430\u0432\u0433\u0443\u0441\u0442\u0430','\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F','\u043E\u043A\u0442\u044F\u0431\u0440\u044F','\u043D\u043E\u044F\u0431\u0440\u044F','\u0434\u0435\u043A\u0430\u0431\u0440\u044F'][b.getMonth()],g=b.getFullYear();return c.push(e),c.push(f),g!==d.getFullYear()&&c.push(g),c.join('\xA0')},a.format.decamelize=(a)=>c(a).join('-'),a.format.number=(b)=>{if(a.is.n(b)&&(b+=''),!a.is.s(b)||''===b)throw new TypeError;var c='';return a.each(b.split(''),function(a,d){c=a+c,0!==d&&0==(b.length-d)%3&&(c='\u2009'+c)},!0),c},a.format.phone=(b)=>{if(a.is.n(b)&&(b+=''),!a.is.s(b)||''===b)throw new TypeError;var c='',d=b.replace(/[^\d]/g,'').match(/^(?:7|8)([\d]{10})/);if(null!==d)return d=d[1],c='+7 ('+d.slice(0,3)+') '+d.slice(3,6)+'-'+d.slice(6,8)+'-'+d.slice(8,10),c},a.format.plural=(c,...d)=>{const e=a.is.n(c)?b(c):a.is.A(c)?c.length:a.is.S(c)?c.size:null;if(null===e)throw TypeError();if(a.is.A(d[0])&&(d=d[0]),3!==d.length)throw Error(`Формы должно быть три`);if(a.is.s(d))throw TypeError();const[f,g,h]=d,i=e.toString().match(/(\.\d+)/);return null===i?1==e%10&&11!=e%100?f:2<=e%10&&4>=e%10&&(10>e%100||20<=e%100)?g:h:h},a.format.seconds_to_string=(c)=>{if(!a.is.n(c))return c;const d=[['seconds',1,['\u0441\u0435\u043A\u0443\u043D\u0434\u0430','\u0441\u0435\u043A\u0443\u043D\u0434\u044B','\u0441\u0435\u043A\u0443\u043D\u0434']],['minutes',60,['\u043C\u0438\u043D\u0443\u0442\u0430','\u043C\u0438\u043D\u0443\u0442\u044B','\u043C\u0438\u043D\u0443\u0442']],['hours',3600,['\u0447\u0430\u0441','\u0447\u0430\u0441\u0430','\u0447\u0430\u0441\u043E\u0432']],['days',86400,['\u0434\u0435\u043D\u044C','\u0434\u043D\u044F','\u0434\u043D\u0435\u0439']],['weeks',604800,['\u043D\u0435\u0434\u0435\u043B\u044F','\u043D\u0435\u0434\u0435\u043B\u0438','\u043D\u0435\u0434\u0435\u043B\u044C']],['months',2592000,['\u043C\u0435\u0441\u044F\u0446','\u043C\u0435\u0441\u044F\u0446\u0430','\u043C\u0435\u0441\u044F\u0446\u0435\u0432']],['years',22118400,['\u0433\u043E\u0434','\u0433\u043E\u0434\u0430','\u043B\u0435\u0442']]].map((a)=>({unit:a[0],value:b(Math.round(c/a[1])),forms:a[2]})).filter((a)=>1<b(a.value)).pop();return`${d.value} ${a.format.plural(d.value,d.forms)}`}})(kk),((a)=>{a.generate_key=(b)=>((!a.is.n(b)||1>b)&&(b=1),Array(b).fill('').reduce((b)=>b+String.fromCharCode(a.rand(19968,40869)),''))})(kk),((a)=>{function b(b){return a.is.n(b)?0<=b?b+'-':b:a.is.A(b)&&a.is.n(b[0])&&0<=b[0]&&a.is.n(b[1])&&0<=b[1]?b[0]+'-'+b[1]:void 0}function c(a){return new Promise(function(b,c){try{var d=new XMLHttpRequest;d.open('GET',a,!0),d.responseType='arraybuffer',d.addEventListener('loadend',function(){200===d.status?b(e(d)):c({url:d.responseURL,status:d.status,range:d.getResponseHeader('Content-Type')})}),d.send()}catch(a){console.error(a)}})}function d(a,c){return new Promise(function(d,f){try{var g=new XMLHttpRequest;g.open('GET',a,!0),g.responseType='arraybuffer',g.setRequestHeader('Range','bytes='+b(c)),g.addEventListener('loadend',function(){if(!(206===g.status))console.error(a,c,g.status),console.log('range >',g.getResponseHeader('Content-Type')),f([a,c,g.status]);else if(g.getResponseHeader('Content-Range')){var b=e(g);b.range=c,d(b)}}),g.send()}catch(a){console.error(a)}})}function e(a){return{headers:a.getAllResponseHeaders(),getHeader:function(b){return a.getResponseHeader(b)},content:a.response}}a.get_buffer=function(){var b=Array.prototype.slice.call(arguments);return new Promise((e,f)=>{try{var g,h=b.shift(),i=!1;if(1<b.length&&a.is.b(b[b.length-1])&&(i=b.pop()),g=b,a.is.s(h)||f('URL \u043D\u0435 \u0437\u0430\u0434\u0430\u043D'),0===g.length||1===g.length&&0===g[0])return void c(h).then(e,f);g=g.map(function(b){return(a.is.n(b)||a.is.A(b)&&a.is.n(b[0])&&0<=b[0]&&a.is.n(b[1])&&0<=b[1])&&b}),i||(1===g.length?d(h,g[0]).then(e,f):Promise.all(g.map(function(a){if(!1!==a)return d(h,a)})).then(e,f))}catch(a){console.error(a)}})}})(kk),((a)=>{a.get_offset=function(a){var b=a.getBoundingClientRect();return{top:b.top+window.pageYOffset,left:b.left+window.pageXOffset,width:b.width,height:b.height}}})(kk),((a)=>{a.i8to2=function(a){for(var b=a.toString(2);8>b.length;)b='0'+b;return b},a.i8ArrayTo2=function(b){var c='';return b.forEach(function(b){c+=a.i8to2(b)}),c},a.i8ArrayToString=function(a){var b='';return a.forEach(function(a){b+=String.fromCharCode(a)}),b}})(kk),((a)=>{a.ls=((a,b)=>{const c={};return c.on_change=new a.Event,c.create=(d,e=null)=>{if(a.is.s(d)&&!b.getItem(d))return c.set(d,e,!0),e},c.get=(d,e)=>{const f=b.getItem(d);return!f&&a.is.o(e)?c.set(d,e):JSON.parse(f)},c.ts=(a)=>b.getItem(`@`+a),c.set=(a,d,e)=>(b.setItem(a,JSON.stringify(d)),b.setItem(`@`+a,Date.now()),e||c.on_change.dispatch(),d),c.remove=(a)=>{b.removeItem(a),b.removeItem(`@`+a),c.on_change.dispatch(`remove`)},c})(a,localStorage)})(kk),((a)=>{a.SimpleStore=class{constructor(b){if(!a.is.o(b))throw new TypeError;if(!a.is.s(b.name))throw new TypeError;if(!a.is.o(b.store))throw new TypeError;if(!a.is.s(b.store.name))throw new TypeError;if('version'in b&&!a.is.n(b.version))throw new TypeError;const c=this;this.schema=b,this.db=new Promise((a,d)=>{const e=indexedDB.open(b.name,b.version);e.onupgradeneeded=c.upgrade.bind(c),e.onsuccess=()=>a(e.result),e.onerror=(a)=>d(a),e.onblocked=(a)=>d(a)})}upgrade(b){const c=this,d=b.target.result,e=this.schema.store.name,f=this.schema.store.key||!1,g=a.is.A(this.schema.store.indexes)?this.schema.store.indexes:[],h={};d.objectStoreNames.contains(e)&&(d.deleteObjectStore(e),console.log('SimpleStore: \u0445\u0440\u0430\u043D\u0438\u043B\u0438\u0449\u0435 \u0443\u0434\u0430\u043B\u0435\u043D\u043E')),f?h.keyPath=f:h.autoIncrement=!0;const i=d.createObjectStore(e,h);each(g,(a)=>{i.createIndex(a,a)})}put(a){const b=this;return new Promise((c,d)=>{b.db.then((e)=>{const f=e.transaction(b.schema.store.name,'readwrite').objectStore(b.schema.store.name).put(a);f.onsuccess=(a)=>{c(a.target.result)},f.onerror=(a)=>{d(a)}},d)})}get(b,c){const d=this;return new Promise((e,f)=>{d.db.then((g)=>{let h=g.transaction(d.schema.store.name,'readonly').objectStore(d.schema.store.name);if(a.is.s(c)&&d.schema.store.indexes.includes(c)){h=h.index(c);const a=IDBKeyRange.only(b),d=h.openCursor(a),g=[];d.onsuccess=(a)=>{let b=a.target.result;b?(g.push(b.value),b.continue()):0<g.length?e(g):f(a)},d.onerror=(a)=>{f(a)}}else{let a=h.get(b);a.onsuccess=()=>{a.result?e(a.result):f()},a.onerror=(a)=>{f(a)}}},f)})}delete(){}drop(){}}})(kk),((a)=>{if(a.d){var b=Object.defineProperty,c=a.d.body,d={body:{}};d.root=d.body,a.viewport=d,a.is.n(a.r.pageXOffset)?(b(d,'x',{get:function(){return a.r.pageXOffset}}),b(d,'y',{get:function(){return a.r.pageYOffset}})):(b(d,'x',{get:function(){return(a.d||c.parentNode||c).scrollLeft}}),b(d,'y',{get:function(){return(a.d||c.parentNode||c).scrollTop}})),b(d,'w',{get:function(){return a.r.innerWidth}}),b(d,'h',{get:function(){return a.r.innerHeight}}),b(d.body,'w',{get:function(){return a.d.clientWidth}}),b(d.body,'h',{get:function(){return a.d.clientHeight}})}})(kk),((a)=>{function b(c){var d=[],e=function(a){~d.indexOf(a)||d.push(a)};return c.forEach(function(c){a.is.s(c)?e(c):a.is.A(c)&&b(c).forEach(e)}),d}const c='__proxy__';a.ProxyStorage=class{constructor(){}},a.watch=(d,...e)=>{const f=e.pop();if(!a.is.o(d)||null===d||!a.is.f(f)&&!(f instanceof a.Event)||0<e.length&&!a.is.s(...e))throw new TypeError;d.hasOwnProperty(c)||Object.defineProperty(d,c,{enumerable:!1,writable:!0}),d[c]instanceof a.ProxyStorage||(d[c]=new a.ProxyStorage);const g=d[c];e=0===e.length?Object.keys(d):b(e),e.forEach(function(b){b in g||(b in d?(g[b]=d[b],delete d[b]):g[b]=void 0,Object.defineProperty(d,b,{enumerable:!0,get:()=>g[b],set:(c)=>{const d=g[b];g[b]=c,c!==d&&(f instanceof a.Event?f.dispatch(d,c):f(d,c))}}))})}})(kk);