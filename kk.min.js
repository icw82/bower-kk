!function(){"use strict";var e,t=console,n={v:"0.2.0",w:!1,d:!1};n.msg={cb:"Обратный вызов не определён или не является функцией",ia:"Некорректные аргументы"},n.__a=function(){t.error(n.msg.ia)},n.__d=function(){t.warn("Depricated")},n.__ae=function(){t.warn("Уже существует")},["undefined","boolean","number","string","object","function"].forEach(function(e){n["_"+e[0]]=e,n["is_"+e[0]]=function(t){return typeof t===e}}),n.is_o(window)&&(n.is_f(Window)||n.is_o(Window))&&window instanceof Window?(e=window,n.w=window):n.is_o(global)&&(e=global),n.is_o(e.document)&&(n.d=e.document),[[Array,"A"],[Element,"E"],[Node,"N"],[NodeList,"NL"],[HTMLCollection,"C"]].forEach(function(e){typeof e[0]!==n._u&&(n.is_f(e[0])||n.is_o(e[0]))&&(n["_"+e[1]]=e[0],n["is_"+e[1]]=function(t){return t instanceof e[0]})}),e.kenzo=e.kk=n,n.ts=function(){var e=new Date;return e.getTime()},typeof module!==n._u&&n.is_o(module)&&n.is_o(module.exports)&&(module.exports=n),n.r=e}(),kk.each=function(){var e=kk,t=arguments,n=[],r=t[0],i=t[1];if(!e.is_f(i))throw kk.msg.cb;var o,s,f=!!e.is_f(t[2])&&t[2],a=t[t.length-1],u=!!e.is_b(a)&&a,c=!1;if(e.is_s(r)&&e.d?n=e.d.querySelectorAll(r):e.is_n(r)?(n=e._A(Math.floor(Math.max(0,r))),c=!0):ArrayBuffer.isView(r)&&r.length>0?n=e._A.prototype.slice.call(r):(e.is_A(r)||e.is_NL(r)||e.is_C(r))&&(n=r),n.length>0)if(u){for(o=n.length-1;o>=0;o--)if(s=i(c?o:n[o],o,n),!e.is_u(s))return s}else for(o=0;o<n.length;o++)if(s=i(c?o:n[o],o,n),!e.is_u(s))return s;if(f)return f()},typeof kk.r.each===kenzo._u&&(kk.r.each=kk.each),kk.rand=function(){var e,t,n=kk,r=arguments;if(typeof r[0]==n._n){if(typeof r[1]==n._n)return e=r[0],t=r[1]+1,Math.floor(Math.random()*(t-e))+e;var i=r[0];if(i<0&&(i=-i),i<16)return i=Math.floor(i),0===i?0:(e=1===i?0:Math.pow(10,i-1),n.rand(e,Math.pow(10,i)-1));n.__a()}else n.__a()},kk.class=function(e,t,n){var r,i=kk,o=i.each;if(e instanceof i._E)if(typeof t==i._s&&(t=[t]),o(t,function(e){if(typeof e!=i._s)return r=!0,!0}),!r&&t instanceof i._A)if(typeof n==i._u&&(n=[]),n instanceof i._A){if(o(n,function(e){if(typeof e!=i._s)return r=!0,!0}),!r)return o(n,function(n){t.indexOf(n)<0&&e.classList.remove(n)}),o(t,function(t){e.classList.add(t)}),!0;i.__a()}else i.__a();else i.__a();else i.__a()},kk.class_forever=function(e,t){t.classList.add(e);var n=new MutationObserver(function(n){each(n,function(n){"class"!=n.attributeName||n.target!=t||t.classList.contains(e)||t.classList.add(e)})});n.observe(t,{attributes:!0})},kk.Event=function(e){var t,n=kk,r=[];Object.defineProperty(this,"key",{get:function(){return e}}),this.hasListener=function(e){return n.each(r,function(t){return t===e})},this.addListener=function(e){n.is_f(e)&&!this.hasListener(e)&&(this.is_completed?e(t):r.push(e))},this.removeListener=function(e){n.is_f(e)&&(r=r.filter(function(t){return t!==e}))},this.dispatch=function(){if(!this.is_completed){var e,i=arguments;if(n.is_u(this.key))e=i[0];else{if(this.key!==i[0])return;e=i[1]}return t=e,kk.each(r,function(t){t(e)}),!0}},this.complete=function(){this.is_completed||this.dispatch.apply(this,arguments)&&(this.is_completed=!0)}},kk.event=function(){var e={},t=document.createEvent;return e.resize=function(e){if(typeof t==kk._f){var n=t("Event");n.initEvent("resize",!0,!0),window.dispatchEvent(n)}},e.stop=function(e){if(e=e||window.event,!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1},e}(),kk.find_ancestor=function(e,t,n){function r(t){var r=n;return"#"===t[0]?i(e,t.substring(1),r,!0):"."===t[0]?i(e,t.substring(1),r,!1):i(e,t,r,!1)}function i(e,t,n,r){if(!(n!==!1&&--n<0)&&o.is_E(e)&&"parentNode"in e&&o.is_E(e.parentNode)){var s=e.parentNode;if(r){if(s.getAttribute("id")===t)return s}else if(s.classList.contains(t))return s;return i(s,t,n,r)}}var o=kk;return o.is_n(n)||(n=!1),o.is_s(t)?r(t):o.is_A(t)?o.each(t,function(e){if(o.is_s(e))return r(e)}):void 0},kk.format=function(){var e=kk.each,t={};return t.number=function(t){var n="",r=" ";if(t&&""!=t){var i=String(t);i=i.split(""),e(i.length,function(e,t){n=i[t]+n,0!==t&&(i.length-t)%3===0&&(n=r+n)},!0)}return n},t.phone=function(){if(0===arguments.length)return!1;if("string"!=typeof arguments[0])return!1;var e=arguments[0],t=e.replace(/[^\d]/g,"").match(/^(?:7|8)([\d]{10})/);return null!==t&&(t=t[1],"+7 ("+t.slice(0,3)+") "+t.slice(3,6)+"-"+t.slice(6,8)+"-"+t.slice(8,10))},t}(),kk.generate_key=function(e){"number"!=typeof e&&(e=1,console.warn("generate_key 1")),e<1&&(e=1,console.warn("generate_key 2"));var t="";return each(e,function(){t+=String.fromCharCode(kk.rand(19968,40869))}),t},function(e){"use strict";function t(t,r){var i=[],o=n(t,r);return e.each(o,function(n){var r="",o=new Uint8Array(t,n.headers,n.begin-4-n.headers);e.each(o,function(e){r+=String.fromCharCode(e)}),i.push({headers:r,getHeader:function(e){var t=new RegExp(e+": (.+)"),n=this.headers.match(t);return n[1]},content:t.slice(n.begin,n.end)})}),i}function n(e,t){for(var n=new Uint8Array(e),r=[],i=0;i<e.byteLength;)if(45===n[i]&&45===n[i+1]){i+=2;for(var o=0;o<t.length&&t.charCodeAt(o)===n[i];o++){if(o==t.length-1)if(i++,13===n[i]&&10===n[i+1]){for(i+=2,r.length>0&&(r[r.length-1].end=i-t.length-6),r.push({headers:i});i<e.byteLength&&(45!==n[i+2]||45!==n[i+3]);){if(13===n[i]&&10===n[i+1]&&13===n[i+2]&&10===n[i+3]){i+=4;break}i++}i!==e.byteLength-1&&(r[r.length-1].begin=i)}else 45===n[i]&&45===n[i+1]&&(r[r.length-1].end=i-t.length-4);i++}}else i++;return r}e.get_buffer=function(n){var r=kenzo._A.prototype.slice.call(arguments).splice(1);return new Promise(function(i,o){function s(e){return{headers:e.getAllResponseHeaders(),getHeader:function(t){return e.getResponseHeader(t)},content:e.response}}if(!e.is_s(n))throw new Error(e.msg.ia);var f=new XMLHttpRequest;if(f.open("GET",n,!0),0!==r.length){var a=[];r=r.map(function(t,n){return e.is_n(t)?(t>=0?a.push(t+"-"):a.push(t),t):!!(e.is_A(t)&&e.is_n(t[0])&&t[0]>=0&&e.is_n(t[1])&&t[1]>=0)&&(a.push(t[0]+"-"+t[1]),t)}),a=a.join(","),""!==a&&"0-"!==a&&f.setRequestHeader("Range","bytes="+a)}f.addEventListener("loadend",function(){if(200===f.status)i(s(f));else if(206===f.status){var n=[];if(f.getResponseHeader("Content-Range"))i(s(f));else{var o=function(e){var t=e.match(/boundary=(.+)$/);return!(!t||!t[1])&&t[1]}(f.getResponseHeader("Content-Type")),u=t(f.response,o);e.each(r,function(e){e!==!1?n.push(u.shift()):n.push(!1)}),i(n)}}else console.error(f.status),console.log("bytes >",a),console.log("status >",f.status),console.log("range >",f.getResponseHeader("Content-Type"))}),f.responseType="arraybuffer",f.send()})}}(kk),kk.get_offset=function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,width:t.width,height:t.height}},kk.i8to2=function(e){for(var t=e.toString(2);t.length<8;)t="0"+t;return t},kk.i8ArrayTo2=function(e){var t="";return kk.each(e,function(e){t+=kk.i8to2(e)}),t},kk.i8ArrayToString=function(e){var t="";return kk.each(e,function(e){t+=String.fromCharCode(e)}),t},kk.is_nodes=function(){var e=arguments[0];return typeof StaticNodeList==kk._o&&e instanceof StaticNodeList?e.length>0:e instanceof kk._NL?e.length>0:void 0},kk.ls=function(e,t){var n={};return n.create=function(){e.each(arguments,function(n){typeof n!=e._s||t.getItem(n)||(t.setItem(n,JSON.stringify([])),t.setItem("@"+n,e.ts()))})},n.get=function(e){return JSON.parse(t.getItem(e))},n.ts=function(e){return t.getItem("@"+e)},n.update=function(n,r){return t.setItem(n,JSON.stringify(r)),t.setItem("@"+n,e.ts()),!0},n}(kk,localStorage),kk.plural=function(){var e,t,n,r,i,o=kk,s="ru",f=["ru"],a=arguments,u=a[0],c=a[1];if(typeof u==o._s)return f.indexOf(u)>-1&&(s=u,!0);if(typeof u==o._n)e=u;else if(u instanceof o._A)e=u.length;else{if(typeof u!=o._o)return!1;e=0;for(var l in u)e++}return e<0&&(e=-e),c instanceof o._A&&typeof c[0]==o._s&&typeof c[1]==o._s&&typeof c[2]==o._s?(t=c[0],n=c[1],r=c[2],(i=e.toString().match(/(\.\d+)/))&&(e*=Math.pow(10,i[0].length-1)),null!==i?r:e%10==1&&e%100!=11?t:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n:r):typeof a[1]==o._s&&typeof a[2]==o._s&&typeof a[3]==o._s&&(o.__d(),o.plural(e,[a[1],a[2],a[3]]))},kk.proxy=function(e){e.ProxyStorage=function(){};var t="__proxy__";return function(){function n(n){return typeof n!==e._s?void e.__a():(r||(Object.defineProperty(o,t,{enumerable:!1,writable:!0}),r=o[t]=new e.ProxyStorage),n in r?(e.__ae(),!1):(n in o?(r[n]=o[n],delete o[n]):r[n]=void 0,void Object.defineProperty(o,n,{enumerable:!0,get:function(){return r[n]},set:function(e){r[n]=e,s(o,n)}})))}var r,i=arguments,o=i[0];if(typeof o!==e._o||o instanceof e._A||o instanceof e._NL)return void e.__a();if(o[t]instanceof e.ProxyStorage&&(r=o[t]),typeof i[1]===e._f){var s=i[1];return e.proxy(o,Object.keys(o),s)}if(typeof i[2]!==e._f)return void e.__a();var s=i[2];if(i[1]instanceof e._A)e.each(i[1],n);else if(n(i[1])===!1)return!1;return!0}}(kk),kk.viewport=function(e,t,n){var r=n.documentElement,i=n.body,o=Object.defineProperty,s={root:{}};return t.pageXOffset!==e._u?(o(s,"x",{get:function(){return t.pageXOffset}}),o(s,"y",{get:function(){return t.pageYOffset}})):(o(s,"x",{get:function(){return(r||i.parentNode||i).scrollLeft}}),o(s,"y",{get:function(){return(r||i.parentNode||i).scrollTop}})),o(s,"w",{get:function(){return t.innerWidth}}),o(s,"h",{get:function(){return t.innerHeight}}),o(s.root,"w",{get:function(){return r.clientWidth}}),o(s.root,"h",{get:function(){return r.clientHeight}}),s}(kk,window,document);