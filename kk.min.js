!function(){"use strict";var e,t=console,n={v:"0.2.0",w:!1,d:!1,__a:function(){t.error("Некорректные аргументы")},__d:function(){t.warn("Depricated")},__ae:function(){t.warn("Уже существует")}};n.msg={cb:"Обратный вызов не определён или не является функцией"},["undefined","boolean","number","string","object","function"].forEach(function(e){n["_"+e[0]]=e,n["is_"+e[0]]=function(t){return typeof t===e}}),n.is_o(window)&&(n.is_f(Window)||n.is_o(Window))&&window instanceof Window?(e=window,n.w=window):n.is_o(global)&&(e=global),n.is_o(e.document)&&(n.d=e.document),[[Array,"A"],[Element,"E"],[Node,"N"],[NodeList,"NL"],[HTMLCollection,"C"]].forEach(function(e){typeof e[0]!==n._u&&(n.is_f(e[0])||n.is_o(e[0]))&&(n["_"+e[1]]=e[0],n["is_"+e[1]]=function(t){return t instanceof e[0]})}),e.kenzo=e.kk=n,n.ts=function(){var e=new Date;return e.getTime()},typeof module!==n._u&&n.is_o(module)&&n.is_o(module.exports)&&(module.exports=n),n.r=e}(),kk.each=function(){var e=kk,t=arguments,n=[],r=t[0],i=t[1];if(!e.is_f(i))throw kk.msg.cb;var o,f,a=!!e.is_f(t[2])&&t[2],s=t[t.length-1],u=!!e.is_b(s)&&s;if(e.is_s(r)&&e.d?n=e.d.querySelectorAll(r):e.is_n(r)?n=e._A(Math.floor(Math.max(0,r))):ArrayBuffer.isView(r)&&r.length>0?n=e._A.prototype.slice.call(r):(e.is_A(r)||e.is_NL(r)||e.is_C(r))&&(n=r),n.length>0)if(u){for(o=n.length-1;o>=0;o--)if(f=i(n[o],o,n),!e.is_u(f))return f}else for(o=0;o<n.length;o++)if(f=i(n[o],o,n),!e.is_u(f))return f;if(a)return a()},typeof kk.r.each===kenzo._u&&(kk.r.each=kk.each),kk.rand=function(){var e,t,n=kk,r=arguments;if(typeof r[0]==n._n){if(typeof r[1]==n._n)return e=r[0],t=r[1]+1,Math.floor(Math.random()*(t-e))+e;var i=r[0];if(i<0&&(i=-i),i<16)return i=Math.floor(i),0===i?0:(e=1===i?0:Math.pow(10,i-1),n.rand(e,Math.pow(10,i)-1));n.__a()}else n.__a()},kk["class"]=function(e,t,n){var r,i=kk,o=i.each;if(e instanceof i._E)if(typeof t==i._s&&(t=[t]),o(t,function(e){if(typeof e!=i._s)return r=!0,!0}),!r&&t instanceof i._A)if(typeof n==i._u&&(n=[]),n instanceof i._A){if(o(n,function(e){if(typeof e!=i._s)return r=!0,!0}),!r)return o(n,function(n){t.indexOf(n)<0&&e.classList.remove(n)}),o(t,function(t){e.classList.add(t)}),!0;i.__a()}else i.__a();else i.__a();else i.__a()},kk.class_forever=function(e,t){t.classList.add(e);var n=new MutationObserver(function(n){each(n,function(n){"class"!=n.attributeName||n.target!=t||t.classList.contains(e)||t.classList.add(e)})});n.observe(t,{attributes:!0})},kk.Event=function(e){var t=kk,n=[];Object.defineProperty(this,"key",{get:function(){return e}}),this.hasListener=function(e){return t.each(n,function(t){return t===e})},this.addListener=function(e){t.is_f(e)&&!this.hasListener(e)&&n.push(e)},this.removeListener=function(e){t.is_f(e)&&(n=n.filter(function(t){return t!==e}))},this.dispatch=function(){var e,r=arguments;if(t.is_u(this.key))e=r[0];else{if(this.key!==r[0])return;e=r[1]}kk.each(n,function(t){t(e)})}},kk.event=function(){var e={},t=document.createEvent;return e.resize=function(e){if(typeof t==kk._f){var n=t("Event");n.initEvent("resize",!0,!0),window.dispatchEvent(n)}},e.stop=function(e){if(e=e||window.event,!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1},e}(),kk.find_ancestor=function(e,t,n){function r(t){return"#"===t[0]?i(e,t.substring(1),n,!0):"."===t[0]?i(e,t.substring(1),n,!1):i(e,t,n,!1)}function i(e,t,n,r){if(!(n!==!1&&--n<0)&&o.is_E(e)&&"parentNode"in e&&o.is_E(e.parentNode)){var f=e.parentNode;if(r){if(f.getAttribute("id")===t)return f}else if(f.classList.contains(t))return f;return i(f,t,n,r)}}var o=kk;return o.is_n(n)||(n=!1),o.is_s(t)?r(t):o.is_A(t)?o.each(t,function(e){if(o.is_s(e))return r(e)}):void 0},kk.format=function(){var e=kk.each,t={};return t.number=function(t){var n="",r=" ";if(t&&""!=t){var i=String(t);i=i.split(""),e(i.length,function(e,t){n=i[t]+n,0!==t&&(i.length-t)%3===0&&(n=r+n)},!0)}return n},t.phone=function(){if(0===arguments.length)return!1;if("string"!=typeof arguments[0])return!1;var e=arguments[0],t=e.replace(/[^\d]/g,"").match(/^(?:7|8)([\d]{10})/);return null!==t&&(t=t[1],"+7 ("+t.slice(0,3)+") "+t.slice(3,6)+"-"+t.slice(6,8)+"-"+t.slice(8,10))},t}(),kk.generate_key=function(e){"number"!=typeof e&&(e=1,console.warn("generate_key 1")),e<1&&(e=1,console.warn("generate_key 2"));var t="";return each(e,function(){t+=String.fromCharCode(kk.rand(19968,40869))}),t},function(e){"use strict";function t(e,t){for(var n=new Uint8Array(e),r=[],i=0;i<e.byteLength;)if(45===n[i]&&45===n[i+1]){i+=2;for(var o=0;o<t.length&&t.charCodeAt(o)===n[i];o++){if(o==t.length-1)if(i++,13===n[i]&&10===n[i+1]){for(i+=2,r.length>0&&(r[r.length-1].end=i-t.length-6),r.push({headers:i});i<e.byteLength&&(45!==n[i+2]||45!==n[i+3]);){if(13===n[i]&&10===n[i+1]&&13===n[i+2]&&10===n[i+3]){i+=4;break}i++}i!==e.byteLength-1&&(r[r.length-1].begin=i)}else 45===n[i]&&45===n[i+1]&&(r[r.length-1].end=i-t.length-4);i++}}else i++;return r}function n(e,n){for(var r=[],i=t(e,n),o=0;o<i.length;o++){for(var f="",a=new Uint8Array(e,i[o].headers,i[o].begin-4-i[o].headers),s=0;s<a.length;s++)f+=String.fromCharCode(a[s]);r.push({headers:f,getHeader:function(e){var t=new RegExp(e+": (.+)"),n=this.headers.match(t);return n[1]},content:e.slice(i[o].begin,i[o].end)})}return r}e.get_buffer=function(){if("string"!=typeof arguments[0])return console.warn("KZ: url не передан"),!1;var e=arguments[0];if(arguments[1])if("function"==typeof arguments[1])var t=arguments[1];else{if(!(arguments[1]instanceof Array))return console.warn("KZ: Второй аргумент не передан"),!1;if(arguments[1][0]instanceof Array)var r=arguments[1];else var r=[arguments[1]];if("function"!=typeof arguments[2])return console.warn("KZ: Функция обратного вызова не передана"),!1;var t=arguments[2]}var i=new XMLHttpRequest;i.open("GET",e,!0),r&&(1===r.length?(r[0][0]<0?i.setRequestHeader("Range","bytes="+r[0][0]):i.setRequestHeader("Range","bytes="+r[0][0]+"-"+r[0][1]),i.onreadystatechange=function(){if(4!==i.readyState)return!1;if(206===i.status){var e=this;t([{headers:e.getAllResponseHeaders(),getHeader:function(t){return e.getResponseHeader(t)},content:e.response}])}else t(!1)}):(i.setRequestHeader("Range","bytes="+function(){return r.forEach(function(e,t){r[t][0]<0?r[t]=r[t][0]:r[t]=r[t][0]+"-"+r[t][1]}),r.join(",")}()),i.onreadystatechange=function(){if(4!==i.readyState)return!1;if(206===i.status){var e=this,r=function(e){var t=e.match(/boundary=(.+)$/);return!(!t||!t[1])&&t[1]}(this.getResponseHeader("Content-Type")),o=n(e.response,r);t(o)}else t(!1)})),i.responseType="arraybuffer",i.send(null)}}(kk),kk.get_offset=function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,width:t.width,height:t.height}},kk.i8to2=function(e){for(var t=e.toString(2);t.length<8;)t="0"+t;return t},kk.i8ArrayTo2=function(e){var t="";return kk.each(e,function(e){t+=kk.i8to2(e)}),t},kk.i8ArrayToString=function(e){var t="";return kk.each(e,function(e){t+=String.fromCharCode(e)}),t},kk.is_nodes=function(){var e=arguments[0];return typeof StaticNodeList==kk._o&&e instanceof StaticNodeList?e.length>0:e instanceof kk._NL?e.length>0:void 0},kk.ls=function(e,t){var n={};return n.create=function(){e.each(arguments,function(n){typeof n!=e._s||t.getItem(n)||(t.setItem(n,JSON.stringify([])),t.setItem("@"+n,e.ts()))})},n.get=function(e){return JSON.parse(t.getItem(e))},n.ts=function(e){return t.getItem("@"+e)},n.update=function(n,r){return t.setItem(n,JSON.stringify(r)),t.setItem("@"+n,e.ts()),!0},n}(kk,localStorage),kk.plural=function(){var e,t,n,r,i,o=kk,f="ru",a=["ru"],s=arguments,u=s[0],c=s[1];if(typeof u==o._s)return a.indexOf(u)>-1&&(f=u,!0);if(typeof u==o._n)e=u;else if(u instanceof o._A)e=u.length;else{if(typeof u!=o._o)return!1;e=0;for(var l in u)e++}return e<0&&(e=-e),c instanceof o._A&&typeof c[0]==o._s&&typeof c[1]==o._s&&typeof c[2]==o._s?(t=c[0],n=c[1],r=c[2],(i=e.toString().match(/(\.\d+)/))&&(e*=Math.pow(10,i[0].length-1)),null!==i?r:e%10==1&&e%100!=11?t:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n:r):typeof s[1]==o._s&&typeof s[2]==o._s&&typeof s[3]==o._s&&(o.__d(),o.plural(e,[s[1],s[2],s[3]]))},kk.proxy=function(e){e.ProxyStorage=function(){};var t="__proxy__";return function(){function n(n){return typeof n!==e._s?void e.__a():(r||(Object.defineProperty(o,t,{enumerable:!1,writable:!0}),r=o[t]=new e.ProxyStorage),n in r?(e.__ae(),!1):(n in o?(r[n]=o[n],delete o[n]):r[n]=void 0,void Object.defineProperty(o,n,{enumerable:!0,get:function(){return r[n]},set:function(e){r[n]=e,f(o,n)}})))}var r,i=arguments,o=i[0];if(typeof o!==e._o||o instanceof e._A||o instanceof e._NL)return void e.__a();if(o[t]instanceof e.ProxyStorage&&(r=o[t]),typeof i[1]===e._f){var f=i[1];return e.proxy(o,Object.keys(o),f)}if(typeof i[2]!==e._f)return void e.__a();var f=i[2];if(i[1]instanceof e._A)e.each(i[1],n);else if(n(i[1])===!1)return!1;return!0}}(kk),kk.viewport=function(e,t,n){var r=n.documentElement,i=n.body,o=Object.defineProperty,f={root:{}};return t.pageXOffset!==e._u?(o(f,"x",{get:function(){return t.pageXOffset}}),o(f,"y",{get:function(){return t.pageYOffset}})):(o(f,"x",{get:function(){return(r||i.parentNode||i).scrollLeft}}),o(f,"y",{get:function(){return(r||i.parentNode||i).scrollTop}})),o(f,"w",{get:function(){return t.innerWidth}}),o(f,"h",{get:function(){return t.innerHeight}}),o(f.root,"w",{get:function(){return r.clientWidth}}),o(f.root,"h",{get:function(){return r.clientHeight}}),f}(kk,window,document);