!function(){"use strict";var e,t=console,n={v:"0.2.0",w:!1,d:!1,__a:function(){t.error("Некорректные аргументы")},__d:function(){t.warn("Depricated")},__ae:function(){t.warn("Уже существует")}};n.msg={cb:"Обратный вызов не определён или не является функцией"},["undefined","boolean","number","string","object","function"].forEach(function(e){n["_"+e[0]]=e,n["is_"+e[0]]=function(t){return typeof t===e}}),n.is_o(window)&&(n.is_f(Window)||n.is_o(Window))&&window instanceof Window?(e=window,n.w=window):n.is_o(global)&&(e=global),n.is_o(e.document)&&(n.d=e.document),[[Array,"A"],[Element,"E"],[Node,"N"],[NodeList,"NL"],[HTMLCollection,"C"]].forEach(function(e){typeof e[0]!==n._u&&(n.is_f(e[0])||n.is_o(e[0]))&&(n["_"+e[1]]=e[0],n["is_"+e[1]]=function(t){return t instanceof e[0]})}),e.kenzo=e.kk=n,n.ts=function(){var e=new Date;return e.getTime()},typeof module!==n._u&&n.is_o(module)&&n.is_o(module.exports)&&(module.exports=n),n.r=e}(),kk.each=function(){var e=kk,t=arguments,n=[],r=t[0],o=t[1];if(!e.is_f(o))throw kk.msg.cb;var i,f,a=!!e.is_f(t[2])&&t[2],s=t[t.length-1],u=!!e.is_b(s)&&s;if(e.is_s(r)&&e.d?n=e.d.querySelectorAll(r):e.is_n(r)?n=e._A(Math.floor(Math.max(0,r))):ArrayBuffer.isView(r)&&r.length>0?n=e._A.prototype.slice.call(r):(e.is_A(r)||e.is_NL(r)||e.is_C(r))&&(n=r),n.length>0)if(u){for(i=n.length-1;i>=0;i--)if(f=o(n[i],i,n),!e.is_u(f))return f}else for(i=0;i<n.length;i++)if(f=o(n[i],i,n),!e.is_u(f))return f;if(a)return a()},typeof kk.r.each===kenzo._u&&(kk.r.each=kk.each),kk.rand=function(){var e,t,n=kk,r=arguments;if(typeof r[0]==n._n){if(typeof r[1]==n._n)return e=r[0],t=r[1]+1,Math.floor(Math.random()*(t-e))+e;var o=r[0];if(o<0&&(o=-o),o<16)return o=Math.floor(o),0===o?0:(e=1===o?0:Math.pow(10,o-1),n.rand(e,Math.pow(10,o)-1));n.__a()}else n.__a()},kk["class"]=function(e,t,n){var r,o=kk,i=o.each;if(e instanceof o._E)if(typeof t==o._s&&(t=[t]),i(t,function(e){if(typeof e!=o._s)return r=!0,!0}),!r&&t instanceof o._A)if(typeof n==o._u&&(n=[]),n instanceof o._A){if(i(n,function(e){if(typeof e!=o._s)return r=!0,!0}),!r)return i(n,function(n){t.indexOf(n)<0&&e.classList.remove(n)}),i(t,function(t){e.classList.add(t)}),!0;o.__a()}else o.__a();else o.__a();else o.__a()},kk.class_forever=function(e,t){t.classList.add(e);var n=new MutationObserver(function(n){each(n,function(n){"class"!=n.attributeName||n.target!=t||t.classList.contains(e)||t.classList.add(e)})});n.observe(t,{attributes:!0})},kk.Event=function(e){var t=kk,n=[];Object.defineProperty(this,"key",{get:function(){return e}}),this.hasListener=function(e){return t.each(n,function(t){return t===e})},this.addListener=function(e){t.is_f(e)&&!this.hasListener(e)&&n.push(e)},this.removeListener=function(e){t.is_f(e)&&(n=n.filter(function(t){return t!==e}))},this.dispatch=function(){var e,r=arguments;if(t.is_u(this.key))e=r[0];else{if(this.key!==r[0])return;e=r[1]}kk.each(n,function(t){t(e)})}},kk.event=function(){var e={},t=document.createEvent;return e.resize=function(e){if(typeof t==kk._f){var n=t("Event");n.initEvent("resize",!0,!0),window.dispatchEvent(n)}},e.stop=function(e){if(e=e||window.event,!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1},e}(),kk.find_ancestor=function(e,t,n){if("number"==typeof n){if(n<=0)return!1;n--}return e instanceof Element&&("parentNode"in e&&(e.parentNode instanceof Element&&(e.parentNode.classList.contains(t)?e.parentNode:this.find_ancestor(e.parentNode,t,n))))},kk.format=function(){var e=kk.each,t={};return t.number=function(t){var n="",r=" ";if(t&&""!=t){var o=String(t);o=o.split(""),e(o.length,function(e,t){n=o[t]+n,0!==t&&(o.length-t)%3===0&&(n=r+n)},!0)}return n},t.phone=function(){if(0===arguments.length)return!1;if("string"!=typeof arguments[0])return!1;var e=arguments[0],t=e.replace(/[^\d]/g,"").match(/^(?:7|8)([\d]{10})/);return null!==t&&(t=t[1],"+7 ("+t.slice(0,3)+") "+t.slice(3,6)+"-"+t.slice(6,8)+"-"+t.slice(8,10))},t}(),kk.generate_key=function(e){"number"!=typeof e&&(e=1,console.warn("generate_key 1")),e<1&&(e=1,console.warn("generate_key 2"));var t="";return each(e,function(){t+=String.fromCharCode(kk.rand(19968,40869))}),t},function(e){"use strict";function t(e,t){for(var n=new Uint8Array(e),r=[],o=0;o<e.byteLength;)if(45===n[o]&&45===n[o+1]){o+=2;for(var i=0;i<t.length&&t.charCodeAt(i)===n[o];i++){if(i==t.length-1)if(o++,13===n[o]&&10===n[o+1]){for(o+=2,r.length>0&&(r[r.length-1].end=o-t.length-6),r.push({headers:o});o<e.byteLength&&(45!==n[o+2]||45!==n[o+3]);){if(13===n[o]&&10===n[o+1]&&13===n[o+2]&&10===n[o+3]){o+=4;break}o++}o!==e.byteLength-1&&(r[r.length-1].begin=o)}else 45===n[o]&&45===n[o+1]&&(r[r.length-1].end=o-t.length-4);o++}}else o++;return r}function n(e,n){for(var r=[],o=t(e,n),i=0;i<o.length;i++){for(var f="",a=new Uint8Array(e,o[i].headers,o[i].begin-4-o[i].headers),s=0;s<a.length;s++)f+=String.fromCharCode(a[s]);r.push({headers:f,getHeader:function(e){var t=new RegExp(e+": (.+)"),n=this.headers.match(t);return n[1]},content:e.slice(o[i].begin,o[i].end)})}return r}e.get_buffer=function(){if("string"!=typeof arguments[0])return console.warn("KZ: url не передан"),!1;var e=arguments[0];if(arguments[1])if("function"==typeof arguments[1])var t=arguments[1];else{if(!(arguments[1]instanceof Array))return console.warn("KZ: Второй аргумент не передан"),!1;if(arguments[1][0]instanceof Array)var r=arguments[1];else var r=[arguments[1]];if("function"!=typeof arguments[2])return console.warn("KZ: Функция обратного вызова не передана"),!1;var t=arguments[2]}var o=new XMLHttpRequest;o.open("GET",e,!0),r&&(1===r.length?(r[0][0]<0?o.setRequestHeader("Range","bytes="+r[0][0]):o.setRequestHeader("Range","bytes="+r[0][0]+"-"+r[0][1]),o.onreadystatechange=function(){if(4!==o.readyState)return!1;if(206===o.status){var e=this;t([{headers:e.getAllResponseHeaders(),getHeader:function(t){return e.getResponseHeader(t)},content:e.response}])}else t(!1)}):(o.setRequestHeader("Range","bytes="+function(){return r.forEach(function(e,t){r[t][0]<0?r[t]=r[t][0]:r[t]=r[t][0]+"-"+r[t][1]}),r.join(",")}()),o.onreadystatechange=function(){if(4!==o.readyState)return!1;if(206===o.status){var e=this,r=function(e){var t=e.match(/boundary=(.+)$/);return!(!t||!t[1])&&t[1]}(this.getResponseHeader("Content-Type")),i=n(e.response,r);t(i)}else t(!1)})),o.responseType="arraybuffer",o.send(null)}}(kk),kk.get_offset=function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset,width:t.width,height:t.height}},kk.i8to2=function(e){for(var t=e.toString(2);t.length<8;)t="0"+t;return t},kk.i8ArrayTo2=function(e){var t="";return kk.each(e,function(e){t+=kk.i8to2(e)}),t},kk.i8ArrayToString=function(e){var t="";return kk.each(e,function(e){t+=String.fromCharCode(e)}),t},kk.is_nodes=function(){var e=arguments[0];return typeof StaticNodeList==kk._o&&e instanceof StaticNodeList?e.length>0:e instanceof kk._NL?e.length>0:void 0},kk.ls=function(e,t){var n={};return n.create=function(){e.each(arguments,function(n){typeof n!=e._s||t.getItem(n)||(t.setItem(n,JSON.stringify([])),t.setItem("@"+n,e.ts()))})},n.get=function(e){return JSON.parse(t.getItem(e))},n.ts=function(e){return t.getItem("@"+e)},n.update=function(n,r){return t.setItem(n,JSON.stringify(r)),t.setItem("@"+n,e.ts()),!0},n}(kk,localStorage),kk.plural=function(){var e,t,n,r,o,i=kk,f="ru",a=["ru"],s=arguments,u=s[0],c=s[1];if(typeof u==i._s)return a.indexOf(u)>-1&&(f=u,!0);if(typeof u==i._n)e=u;else if(u instanceof i._A)e=u.length;else{if(typeof u!=i._o)return!1;e=0;for(var l in u)e++}return e<0&&(e=-e),c instanceof i._A&&typeof c[0]==i._s&&typeof c[1]==i._s&&typeof c[2]==i._s?(t=c[0],n=c[1],r=c[2],(o=e.toString().match(/(\.\d+)/))&&(e*=Math.pow(10,o[0].length-1)),null!==o?r:e%10==1&&e%100!=11?t:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n:r):typeof s[1]==i._s&&typeof s[2]==i._s&&typeof s[3]==i._s&&(i.__d(),i.plural(e,[s[1],s[2],s[3]]))},kk.proxy=function(e){e.ProxyStorage=function(){};var t="__proxy__";return function(){function n(n){return typeof n!==e._s?void e.__a():(r||(Object.defineProperty(i,t,{enumerable:!1,writable:!0}),r=i[t]=new e.ProxyStorage),n in r?(e.__ae(),!1):(n in i?(r[n]=i[n],delete i[n]):r[n]=void 0,void Object.defineProperty(i,n,{enumerable:!0,get:function(){return r[n]},set:function(e){r[n]=e,f(i,n)}})))}var r,o=arguments,i=o[0];if(typeof i!==e._o||i instanceof e._A||i instanceof e._NL)return void e.__a();if(i[t]instanceof e.ProxyStorage&&(r=i[t]),typeof o[1]===e._f){var f=o[1];return e.proxy(i,Object.keys(i),f)}if(typeof o[2]!==e._f)return void e.__a();var f=o[2];if(o[1]instanceof e._A)e.each(o[1],n);else if(n(o[1])===!1)return!1;return!0}}(kk),kk.viewport=function(e,t,n){var r=n.documentElement,o=n.body,i=Object.defineProperty,f={root:{}};return t.pageXOffset!==e._u?(i(f,"x",{get:function(){return t.pageXOffset}}),i(f,"y",{get:function(){return t.pageYOffset}})):(i(f,"x",{get:function(){return(r||o.parentNode||o).scrollLeft}}),i(f,"y",{get:function(){return(r||o.parentNode||o).scrollTop}})),i(f,"w",{get:function(){return t.innerWidth}}),i(f,"h",{get:function(){return t.innerHeight}}),i(f.root,"w",{get:function(){return r.clientWidth}}),i(f.root,"h",{get:function(){return r.clientHeight}}),f}(kk,window,document);