{"version":3,"sources":["base.js","1-each.js","2_ts.js","class.js","event.js","format.js","get_offset.js","get_window_params.js","i8.js","is_node.js","ls.js","plural.js","rand.js"],"names":[],"mappings":"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","file":"kk.min.js","sourcesContent":["(function(){\n// start ——————————————————————————————————————————————————————————————————————————————————— 100 ——|\n'use strict';\n\nvar root,\n    cons = console,\n    kenzo = {\n        v: '3.0.0',\n        w: false, // window (global if not)\n        d: false, // root.document\n        _o: 'object',\n        _f: 'function',\n        _u: 'undefined',\n        _s: 'string',\n        _n: 'number',\n        _A: Array,\n        __a: function(){cons.error('Некорректные аргументы')},\n        __d: function(){cons.warn('Depricated')}\n    };\n\nif (typeof window == kenzo._o && typeof Window == kenzo._f && (window instanceof Window)){\n    root = window;\n    kenzo.w = true;\n} else if (typeof global == kenzo._o){\n    root = global;\n}\n\nif (typeof root.document == kenzo._o)\n    kenzo.d = true;\n\nif (typeof Element == kenzo._f)\n    kenzo._E = Element;\n\nif (typeof Node == kenzo._f)\n    kenzo._N = Node;\n\nif (typeof NodeList == kenzo._f)\n    kenzo._NL = NodeList;\n\nroot.kenzo = root.kk = kenzo;\n\nif (typeof module == kenzo._o && typeof module.exports == kenzo._o){\n    // FUTURE: запилить для ноды\n    module.exports = kenzo;\n}\n\nkenzo.r = root;\n\n// end ————————————————————————————————————————————————————————————————————————————————————— 100 ——|\n}());\n","// Перебор массива\n// Если обратная функция возвращает true, перебор прерывается.\n// Если третий аргумент функция — то она выполяется после перебора массива,\n//     если обратная функция ниразу не возвращала true\n// Если последний элемент === true, перебор производится в обратном порядке.\nkk.each = function(array, callback){\n    var kenzo = kk,\n        args = arguments,\n        reverse,\n        def,\n        nothing = true,\n        index;\n\n    if (typeof array === kenzo._s && kenzo.d)\n        array = document.querySelectorAll(array);\n    else if (typeof array === kenzo._n)\n        array = Array(array);\n\n    if (typeof args[2] == kenzo._f){\n        def = args[2];\n        if (args[3] === true)\n            reverse = true;\n    } else if (args[2] === true){\n        reverse = true;\n    }\n\n    if (typeof array == kenzo._o && ('length' in array) && typeof callback == kenzo._f){\n        if (reverse) {\n            for (index = array.length - 1; index >= 0; index--){\n                if (callback(array[index], index) === true){\n                    nothing = false;\n                    break;\n                }\n            }\n        } else {\n            for (index = 0; index < array.length; index++){\n                if (callback(array[index], index) === true){\n                    nothing = false;\n                    break;\n                }\n            }\n        }\n\n        if (nothing && typeof def == kenzo._f) {\n            def();\n        }\n    }\n};\n\nif (typeof kk.r.each === kenzo._u)\n    kk.r.each = kk.each;\n","kk.ts = function(){\r\n    var time = new Date();\r\n    return time.getTime();\r\n}\r\n","kk.class = function(element, classes, mask){\n    var kenzo = kk,\n        each = kenzo.each,\n        abort;\n\n    if (element instanceof kenzo._E){\n        if (typeof classes == kenzo._s)\n            classes = [classes];\n\n        each (classes, function(c){\n            if (typeof c != kenzo._s){\n                abort = true;\n                return true;\n            }\n        });\n\n        if (!abort && classes instanceof kenzo._A){\n            if (typeof mask == kenzo._u)\n                mask = [];\n\n            if (mask instanceof kenzo._A){\n                each (mask, function(c){\n                    if (typeof c != kenzo._s){\n                        abort = true;\n                        return true;\n                    }\n                });\n\n                if (!abort){\n                    each (mask, function(c){\n                        if (classes.indexOf(c) < 0){\n                            element.classList.remove(c);\n                        }\n                    });\n\n                    each (classes, function(c){\n                        element.classList.add(c);\n                    });\n\n                    return true;\n                } else\n                    kenzo.__a();\n            } else\n                kenzo.__a();\n        } else\n            kenzo.__a();\n    } else\n        kenzo.__a();\n}\n","kk.event = (function(){\r\n    var _ = {},\r\n        create_event = document.createEvent;\r\n\r\n    _.resize = function(delay){\r\n        if (typeof create_event == kk._f){\r\n            var event = create_event('Event');\r\n            event.initEvent('resize', true, true);\r\n            window.dispatchEvent(event);\r\n        }\r\n    }\r\n\r\n    _.stop = function(event){\r\n        event = event || window.event;\r\n\r\n        if (!event)\r\n            return false;\r\n\r\n        while (event.originalEvent){\r\n            event = event.originalEvent\r\n        }\r\n\r\n        if (event.preventDefault)\r\n            event.preventDefault();\r\n        if (event.stopPropagation)\r\n            event.stopPropagation();\r\n\r\n        event.cancelBubble = true;\r\n\r\n        return false;\r\n    }\r\n\r\n    return _;\r\n\r\n})();\r\n","kk.format = function(){\r\n    var kenzo = kk,\r\n        _ = {};\r\n\r\n    // Российские номера\r\n    _.phone = function(){\r\n        if (arguments.length === 0) return false;\r\n        if (typeof arguments[0] !== 'string') return false;\r\n\r\n        var\r\n            string = arguments[0],\r\n            number = string\r\n                .replace(/[^\\d\\+]/g, '')\r\n                .match(/^(?:\\+7|8)([\\d]{10})/);\r\n\r\n        if (number === null) return false;\r\n        number = number[1];\r\n\r\n        return '+7 ('\r\n            + number.slice(0, 3) + ') '\r\n            + number.slice(3, 6) + '-'\r\n            + number.slice(6, 8) + '-'\r\n            + number.slice(8, 10);\r\n    }\r\n\r\n\r\n}\r\n\r\n//kenzo.num_to_ru = function(n){\r\n//    if (typeof n == 'number')\r\n//        return n.toString().replace(/\\./,',');\r\n//    if (typeof n == 'string')\r\n//        return n.replace(/\\./,',');\r\n//}\r\n\r\n//// Старое\r\n//// Разделение чисел на разряды\r\n//function numderTypo(input){\r\n//    var output = '';\r\n//\r\n//    if(input && input != ''){\r\n//        var numbers = String(input);\r\n//        numbers = numbers.split('');\r\n//\r\n//        for(n = numbers.length - 1; n >= 0; n--){\r\n//            output = numbers[n] + output;\r\n//            if((numbers.length - n) % 3 == 0)\r\n//                output = ' ' + output;\r\n//        }\r\n//    }\r\n//\r\n//    return output;\r\n//}\r\n//\r\n//function timeTypo(input){\r\n//    var\r\n//        hours = Math.floor(input/60),\r\n//        minutes = input - hours*60,\r\n//        output = '';\r\n//\r\n//    if(hours)\r\n//        output += plural_ru(hours, 'час', 'часа', 'часов') + (minutes ? ' ' : '');\r\n//\r\n//    if(minutes)\r\n//        output += plural_ru(minutes, 'минута', 'минуты', 'минут');\r\n//\r\n//    return output;\r\n//}\r\n","kk.get_offset = function(element){\r\n    var boundingClientRect = element.getBoundingClientRect();\r\n\r\n    // NOTE: Для ie8 может понадобиться полифилл\r\n    return {\r\n        top: boundingClientRect.top + window.pageYOffset,\r\n        left: boundingClientRect.left + window.pageXOffset,\r\n        width: boundingClientRect.width,\r\n        height: boundingClientRect.height\r\n    }\r\n}\r\n","kk.get_window_params = function(){\r\n    var kenzo = kk,\r\n        root = window,\r\n        doc = document,\r\n        doc_elem = doc.documentElement,\r\n        sizes = {};\r\n\r\n    sizes.x = (root.pageXOffset !== kenzo._u) ? root.pageXOffset :\r\n        (doc_elem || doc.body.parentNode || doc.body).scrollLeft;\r\n    sizes.y = (root.pageYOffset !== kenzo._u) ? root.pageYOffset :\r\n        (doc_elem || doc.body.parentNode || doc.body).scrollTop;\r\n\r\n    sizes.w = ('innerWidth' in root) ? root.innerWidth : doc_elem.clientWidth;\r\n    sizes.h = ('innerWidth' in root) ? root.innerHeight : doc_elem.clientHeight;\r\n\r\n    return sizes;\r\n}\r\n","kk.i8to2 = function(int8){\n    var _ = int8.toString(2);\n    while (_.length < 8){\n        _ = '0' + _;\n    }\n    return _;\n}\n\nkk.i8ArrayTo2 = function(array){\n    var _ = '';\n    kk.each (array, function(item){\n        _ += kk.i8to2(item);\n    });\n    return _;\n}\n\nkk.i8ArrayToString = function(array){\n    var _ = '';\n    kk.each (array, function(item){\n        _ += String.fromCharCode(item);\n    });\n    return _;\n}\n","kk.is_nodes = function(){\r\n    var arg = arguments[0];\r\n\r\n    if ((typeof StaticNodeList == kk._o) && (arg instanceof StaticNodeList))\r\n        if (arg.length > 0)\r\n            return true;\r\n        else\r\n            return false;\r\n\r\n    if (arg instanceof kk._NL)\r\n        if (arg.length > 0)\r\n            return true;\r\n        else\r\n            return false;\r\n}\r\n","// Локальное хранилище\r\nkk.ls = (function(){\r\n    var kenzo = kk,\r\n        ls = localStorage,\r\n        ls_get = ls.getItem,\r\n        ls_set = ls.setItem,\r\n        _ = {};\r\n\r\n    _.create = function(){\r\n        kk.each (arguments, function(item){\r\n            if ((typeof item == kenzo._s) && (!ls_get(item))){\r\n                ls_set(item, JSON.stringify([]));\r\n                ls_set('@' + item, kenzo.ts());\r\n            }\r\n        })\r\n    }\r\n\r\n    _.get = function(address){\r\n        return JSON.parse(ls_get(address));\r\n    }\r\n\r\n    _.ts = function(address){\r\n        return ls_get('@' + address);\r\n    }\r\n\r\n    _.update = function(address, data){\r\n        ls_set(address, JSON.stringify(data));\r\n        ls_set('@' + address, kenzo.ts());\r\n\r\n        return true;\r\n    }\r\n\r\n    return _;\r\n\r\n})();\r\n","kk.plural = function(){\n    // TODO: Для других языков.\n\n    var kenzo = kk,\n        lang = 'ru',\n        langs = ['ru'],\n        args = arguments,\n        first = args[0],\n        second = args[1],\n        amount, singular, paucal, plural, fr;\n\n    if (typeof first == kenzo._s){\n        if (langs.indexOf(first) > -1){\n            lang = first;\n            return true;\n        } else\n            return false;\n    }\n\n    if (typeof first == kenzo._n){\n        amount = first;\n    } else if (first instanceof kenzo._A){\n        amount = first.length;\n    } else if (typeof first == kenzo._o){\n        // NOTE: Может убрать к херам?\n        amount = 0;\n        for (var j in first)\n            amount++;\n    } else\n        return false;\n\n    if (amount < 0)\n        amount = -amount;\n\n    if (\n        (second instanceof kenzo._A) &&\n        (typeof second[0] == kenzo._s) &&\n        (typeof second[1] == kenzo._s) &&\n        (typeof second[2] == kenzo._s)\n    ){\n        singular = second[0];\n        paucal = second[1];\n        plural = second[2];\n\n    } else if (\n        (typeof args[1] == kenzo._s) &&\n        (typeof args[2] == kenzo._s) &&\n        (typeof args[3] == kenzo._s)\n    ){\n        kenzo.__d();\n        return kenzo.plural(amount, [args[1], args[2], args[3]]);\n    } else\n        return false;\n\n    (fr = amount.toString().match(/(\\.\\d+)/)) &&\n        (amount *= Math.pow(10, fr[0].length - 1));\n\n    if (fr !== null)\n        return plural;\n    if ((amount % 10 == 1) && (amount % 100 != 11))\n        return singular;\n    else\n        if ((amount % 10 >= 2) && (amount % 10 <= 4) &&\n            ((amount % 100 < 10) || (amount % 100 >= 20)))\n            return paucal;\n        else\n            return plural;\n}\n","/**\n * Случайное целое число\n * param {Number} Минимальное значение или разрядность слуайного числа,\n *     если не указан второй аргумент\n * param {Number} Максимальное значение\n * @returns {Number} Случайное число из заданного диапазона\n */\nkk.rand = function(){\n    var kenzo = kk,\n        args = arguments,\n        min,\n        max;\n\n    if (typeof args[0] == kenzo._n){\n        if (typeof args[1] == kenzo._n){\n            min = args[0];\n            max = args[1] + 1;\n\n            return Math.floor( Math.random() * (max - min) ) + min;\n        } else {\n            var depth = args[0];\n\n            if (depth < 0)\n                depth = -depth;\n\n            if (depth < 16){\n                depth = Math.floor(depth);\n\n                if (depth === 0)\n                    return 0;\n                else if (depth === 1)\n                    min = 0;\n                else\n                    min = Math.pow(10, depth - 1);\n\n                return kenzo.rand(min, Math.pow(10, depth) - 1);\n\n            } else\n                kenzo.__a();\n        }\n    } else\n        kenzo.__a();\n};\n"],"sourceRoot":"/source/"}