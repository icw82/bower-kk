"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(a){!a.viewport,a.ui={}})(kk),function(){}(kk),function(c){var a=function(){function d(a){_classCallCheck(this,d);this;this.limit=100,this.source=a,this.width=0,this.heigth=0,this.list=[]}return _createClass(d,[{key:"set_size",value:function(a,b){if(c.is.s(a)&&(a=parseInt(a)),c.is.s(b)&&(b=parseInt(b)),c.is.n(a)&&c.is.n(b)&&!isNaN(a)&&!isNaN(b))return this.width=a,this.heigth=b,this.limit=Math.pow(a*b,2),void this.update();throw console.error(a,b),new Error("\u0420\u0430\u0437\u043C\u0435\u0440\u044B \u043D\u0435 \u0437\u0430\u0434\u0430\u043D\u044B")}},{key:"update",value:function(){var a=this,b=this,c=[];this.source.forEach(function(b){if(!("width"in b))throw new Error("\u0428\u0438\u0440\u0438\u043D\u0430 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u043D\u0435 \u0437\u0430\u0434\u0430\u043D\u0430");b.width<=a.width&&c.push(b)});for(var e={list:c,cursor:0,limit:b.width};e.cursor<e.list.length;){if(this.limit--,0>this.limit){console.warn("\u041F\u0440\u0438\u0437\u043D\u0430\u043A\u0438 \u0437\u0430\u0446\u0438\u043A\u043B\u0435\u043D\u043D\u043E\u0441\u0442\u0438");break}e=d.process(e)}this.list=e.list}}],[{key:"convert",value:function(a){return a.map(function(a){if(c.is.o(a))return a;if(c.is.n(a))return{value:a};throw Error("\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u0440\u044F\u0434\u0430")})}},{key:"left",value:function(a){var b=0,c=a.list.slice(0,a.cursor);return c.forEach(function(a){b+=a.value}),a.limit-b%a.limit}},{key:"process",value:function(e){var f=[[0,0],[1,0],[0,1],[1,1],[0,2],[1,2],[2,0],[2,1],[2,2],[0,3],[1,3],[2,3],[3,0],[3,1],[3,2],[3,3],[0,4]];for(var g in f){var h=f[g][0],a=f[g][1],b=d.left({list:e.list,cursor:e.cursor-a,limit:e.limit}),i=e.list[e.cursor+h];if(!c.is.o(i))return e.cursor=e.cursor-a+1,e;if(e.list[e.cursor+h].value<=b){e.list[e.cursor+h]=e.list[e.cursor-a],e.list[e.cursor-a]=i,e.cursor=e.cursor-a+1;break}}return e}}]),d}();c.ui.Billboard=a}(kk),function(a){a.ElementEvents=function b(c){var d=this;if(_classCallCheck(this,b),!a.is.E(c))throw new TypeError;var e=this;["mutation","node_addition","node_removal","element_addition","element_removal"].forEach(function(b){d["on_"+b]=new a.Event});var f=new MutationObserver(function(a){e.on_mutation.dispatch(a)});f.observe(c,{childList:!0,subtree:!0}),this.on_mutation.addListener(function(a){each(a,function(a){each(a.addedNodes,function(a){e.on_node_addition.dispatch(a)}),each(a.removedNodes,function(a){e.on_node_removal.dispatch(a)})})}),this.on_node_addition.addListener(function(b){a.is.E(b)&&e.on_element_addition.dispatch(b)}),this.on_node_removal.addListener(function(b){a.is.E(b)&&e.on_element_removal.dispatch(b)})}}(kk),function(){}(kk),function(a){var b={},c=document.querySelector(".layout-top-layer");if(!a.is.E(c))return void console.log("\u0412\u0435\u0440\u0445\u043D\u0438\u0439 \u0441\u043B\u043E\u0439 \u043D\u0435 \u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D");var d=document.querySelector(".layout-top-layer");if(!a.is.E(d))return void console.log("\u0421\u043B\u043E\u0439 \u0434\u043B\u044F \u043F\u0430\u043D\u0435\u043B\u0435\u0439 \u043D\u0435 \u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D");var e=document.querySelector(".layout-top-layer");return a.is.E(e)?void(b.show=function(){},a.toplayer=b):void console.log("\u0417\u0430\u0442\u0435\u043D\u044F\u044E\u0449\u0438\u0439 \u0441\u043B\u043E\u0439 \u043D\u0435 \u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D")}(kk);